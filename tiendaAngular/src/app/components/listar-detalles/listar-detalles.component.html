<div class="container">

    <button (click)="PanelCrear()" mat-raised-button class="botonNuevo">
        <mat-icon>add_circle</mat-icon>Nuevo
    </button>

    <mat-form-field  class="inputBuscar" appearance="outline">
        <mat-label>Buscar Id</mat-label>

        <input [(ngModel)]="id_detalle" name="id_detalle" type="number" matInput placeholder="Buscar">

        <button (click)="BuscarPorId(id_detalle)" mat-icon-button matSuffix>
            <mat-icon>search</mat-icon>
        </button>
    </mat-form-field>

        <button *ngIf="!usoBusqueda" mat-flat-button disabled class="botonVolverListar">
            <mat-icon>list</mat-icon> Listar
        </button>

        <button *ngIf="usoBusqueda" (click)="Listar()" mat-flat-button class="botonVolverListar">
            <mat-icon>list</mat-icon> Listar
        </button>
        <hr>
        <div align="end">

            <mat-form-field class="inputBuscarFacutras" appearance="outline">
                <mat-label>Buscar Id cliente</mat-label>
        
                <input [(ngModel)]="id_cliente" name="id_cliente" type="number" matInput placeholder="Buscar">
        
                <button (click)="BuscarClientesPorId(id_cliente)" mat-icon-button matSuffix>
                    <mat-icon>search</mat-icon>
                </button>
            </mat-form-field>

            <mat-form-field class="inputBuscarFacutras" appearance="outline" style="margin-left: 10px;">
                <mat-label>Buscar Id factura</mat-label>
        
                <input [(ngModel)]="id_factura" name="id_factura" type="number" matInput placeholder="Buscar">
        
                <button (click)="BuscarFacturasPorId(id_factura)" mat-icon-button matSuffix>
                    <mat-icon>search</mat-icon>
                </button>
            </mat-form-field>
        </div>


    <div class="form-group row">
        <mat-card *ngFor="let detalle of detalles" class="cardDetalle">
            <mat-card-header>
                <div mat-card-avatar style="margin-top: 100px;" class="avatarFactura"></div>
                    <mat-card-title style="margin-top: 100px;">ID: {{detalle.factura.num_factura}}</mat-card-title>
                    <mat-card-subtitle>{{detalle.factura.fecha}}</mat-card-subtitle>
                    <div style="border-right: 1px solid rgb(180, 180, 180);"></div>                  
                <mat-card-content>
                    <div class="producto-detalle">
                        <h4><b>ID producto: </b>{{detalle.producto.id_producto}}</h4>
                        <h4><b>Nombre: </b>{{detalle.producto.nombre}}</h4>
                        <h4><b>Precio: </b>{{detalle.producto.precio}}</h4>
                    </div>
                    <div style="border-top: 1px solid rgb(180, 180, 180); margin-bottom: 14px;"></div>
                    <div class="producto-detalle">
                        <h4><b>ID datalle: </b>{{detalle.num_datalle}}</h4>
                        <h4><b>Cantidad: </b>{{detalle.cantidad}}</h4>
                        <h4><b>Precio: </b>{{detalle.precio}}</h4>
                    </div> 

                </mat-card-content>
                <div style="border-right: 1px solid rgb(180, 180, 180);"></div>                  
                <mat-card-content>
                    <div class="cliente">
                        <h4><b>Id Cliente: </b>{{detalle.factura.cliente.id_cliente}}</h4>
                        <h4><b>Nombre: </b>{{detalle.factura.cliente.nombre}}</h4>
                        <h4><b>Apellido: </b>{{detalle.factura.cliente.apellido}}</h4>
                        <h4><b>Direccion: </b>{{detalle.factura.cliente.direccion}}</h4>
                        <h4><b>Telfono: </b>{{detalle.factura.cliente.telefono}}</h4>
                        <h4><b>Email: </b>{{detalle.factura.cliente.email}}</h4>
                    </div>
                </mat-card-content>
            </mat-card-header>
            <div style="border-top: 1px solid rgb(180, 180, 180);"></div>   
            <mat-card-actions>
                <button (click)="PanelActualizar(detalle.num_datalle)" mat-stroked-button style="margin-left: 7px;">
                    <mat-icon>update</mat-icon>Actualizar
                </button>
                <button (click)="PanelBorrar(detalle.num_datalle)" mat-stroked-button style="margin-left: 312px;">
                    <mat-icon>delete</mat-icon>Borrar
                </button>
              </mat-card-actions>       
          </mat-card>
    </div>
</div>
